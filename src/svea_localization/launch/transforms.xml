<launch>
    <!-- Arguments BEGIN -->

    <arg name="is_indoor"   default="true"/>
    <arg name="map_frame"   default="map"/>
    <arg name="odom_frame"  default="odom"/>
    <arg name="base_frame"  default="base_link"/>

    <!-- Arguments END -->

    <node pkg="tf2_ros" exec="static_transform_publisher" name="odom_map_broadcaster"
        args="
            --x 0 --y 0 --z 0 --yaw 0 --pitch 0 --roll 0
            --frame-id $(var map_frame)
            --child-frame-id $(var odom_frame)"/>
    
    <node pkg="tf2_ros" exec="static_transform_publisher" name="base_link_odom_broadcaster"
        args="
            --x 0 --y 0 --z 0 --yaw 0 --pitch 0 --roll 0
            --frame-id $(var odom_frame)
            --child-frame-id $(var base_frame)" />
    
    <node pkg="tf2_ros" exec="static_transform_publisher" name="imu_link_broadcaster" 
        args="
            --x 0.10 --y -0.047 --z 0.17 --yaw 0 --pitch 0 --roll 0
            --frame-id $(var base_frame)
            --child-frame-id $(var name)/imu"/>
    
    <node pkg="tf2_ros" exec="static_transform_publisher" name="gps_link_broadcaster" 
        args="
            --x 0.04 --y 0.103 --z 0.140 --yaw 0 --pitch 0 --roll 0
            --frame-id $(var base_frame)
            --child-frame-id $(var name)/gps"/>

    <node pkg="tf2_ros" exec="static_transform_publisher" name="wheel_encoder_link_broadcaster" 
        args="
            --x 0 --y 0 --z 0 --yaw 0 --pitch 0 --roll 0
            --frame-id $(var base_frame)
            --child-frame-id $(var name)/wheel_encoder"/>

    <group if="$(var is_indoor)">
        <!-- LiDAR-->
        <node pkg="tf2_ros" exec="static_transform_publisher" name="lidar_link_broadcaster" 
            args="
                --x 0.385 --y 0 --z 0.15 --yaw 0 --pitch 0 --roll 0
                --frame-id $(var base_frame)
                --child-frame-id $(var name)/laser"/>
    </group>

</launch>
